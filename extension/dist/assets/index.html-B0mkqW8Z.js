import{r as a,j as e,c as x}from"./globals-2cAt5PPc.js";const m="http://localhost:3001";function h(){const[t,c]=a.useState(null),[r,o]=a.useState(!0);a.useEffect(()=>{n()},[]);async function n(){try{const s=await chrome.runtime.sendMessage({type:"GET_STATS"});s&&c(s)}catch(s){console.error("Failed to load stats:",s)}finally{o(!1)}}function d(){chrome.tabs.create({url:chrome.runtime.getURL("src/components/dashboard/index.html")})}function i(){chrome.tabs.create({url:`${m}/study-log`})}return r?e.jsx("div",{className:"popup-container p-4 flex items-center justify-center",children:e.jsx("div",{className:"text-cortex-muted",children:"Loading..."})}):e.jsxs("div",{className:"popup-container p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-cortex-primary rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"CL"})}),e.jsx("h1",{className:"text-lg font-semibold text-cortex-text",children:"Cortex Lattice"})]}),e.jsx("button",{onClick:d,className:"text-cortex-muted hover:text-cortex-text transition-colors",title:"Open Local Dashboard",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),e.jsx("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-value text-cortex-primary",children:(t==null?void 0:t.reviewsDueToday)??0}),e.jsx("div",{className:"stat-label",children:"Due Today"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-value text-cortex-accent",children:(t==null?void 0:t.totalProblems)??0}),e.jsx("div",{className:"stat-label",children:"Problems"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-value text-yellow-400",children:(t==null?void 0:t.currentStreak)??0}),e.jsx("div",{className:"stat-label",children:"Day Streak"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{className:"stat-value",children:[t?Math.round(t.coldSolveRate*100):0,"%"]}),e.jsx("div",{className:"stat-label",children:"Cold Solve"})]})]}),e.jsxs("div",{className:"card mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-cortex-muted",children:"Cold Solve Rate"}),e.jsxs("span",{className:"text-lg font-semibold text-cortex-accent",children:[t?Math.round(t.coldSolveRate*100):0,"%"]})]}),e.jsx("div",{className:"mt-2 h-2 bg-cortex-bg rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-cortex-accent rounded-full transition-all duration-500",style:{width:`${((t==null?void 0:t.coldSolveRate)??0)*100}%`}})})]}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("button",{onClick:i,className:"btn btn-primary flex-1 text-sm",children:"Open Study Log"}),e.jsx("button",{onClick:()=>chrome.tabs.create({url:"https://leetcode.com/problemset/"}),className:"btn btn-secondary flex-1 text-sm",children:"LeetCode"})]}),e.jsxs("div",{className:"text-center text-xs text-cortex-muted",children:["Press ",e.jsx("kbd",{className:"px-1.5 py-0.5 bg-cortex-surface rounded text-cortex-text",children:"Cmd+Shift+S"})," to log while solving"]})]})}const l=document.getElementById("root");l&&x(l).render(e.jsx(h,{}));
